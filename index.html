<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Liga Pokémon Monotype</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 text-gray-800">

  <!-- NAVBAR -->
  <nav class="bg-blue-700 text-white p-4 flex space-x-6 justify-center">
    <a href="#liga" class="hover:underline">Liga y Torneo</a>
    <a href="#jornadas" class="hover:underline">Jornadas</a>
    <a href="#reglas" class="hover:underline">Reglas</a>
  </nav>

  <!-- SECCIÓN LIGA Y TORNEO -->
  <section id="liga" class="p-6">
    <h2 class="text-2xl font-bold mb-4">Clasificación de la Liga</h2>
    <table class="w-full table-auto border bg-white">
      <thead class="bg-gray-200">
        <tr>
          <th class="border px-2 py-1">Equipo</th>
          <th class="border px-2 py-1">Tipo</th>
          <th class="border px-2 py-1">Victorias</th>
          <th class="border px-2 py-1">Derrotas</th>
          <th class="border px-2 py-1">Puntos</th>
        </tr>
      </thead>
      <tbody id="tabla-liga"></tbody>
    </table>

    <h2 class="text-2xl font-bold mt-8 mb-4">Torneo Final (Top 8)</h2>
    <div id="torneo" class="grid grid-cols-2 md:grid-cols-4 gap-4"></div>
  </section>

  <!-- SECCIÓN JORNADAS -->
  <section id="jornadas" class="p-6">
    <h2 class="text-2xl font-bold mb-4">Jornadas</h2>
    <div id="lista-jornadas" class="space-y-4"></div>
  </section>

  <!-- SECCIÓN REGLAS -->
  <section id="reglas" class="p-6">
    <h2 class="text-2xl font-bold mb-4">Reglas</h2>
    <ul class="list-disc ml-6 space-y-2">
      <li>Solo se permite un tipo por equipo (Monotype).</li>
      <li>No se puede repetir Pokémon dentro del equipo.</li>
      <li>Se permite Tera tipo libre, pero no cambiar durante la liga.</li>
      <li>Combates al mejor de 3.</li>
      <li>Respetar plazos de entrega de resultados.</li>
    </ul>
  </section>

  <!-- SCRIPT DE CARGA DINÁMICA -->
  <script>
    async function cargarDatos() {
      const data = await fetch('datos.json').then(res => res.json());

      // Tabla de clasificación
      const tabla = document.getElementById('tabla-liga');
      data.clasificacion.forEach(equipo => {
        const fila = `<tr>
          <td class="border px-2 py-1">${equipo.nombre}</td>
          <td class="border px-2 py-1">${equipo.tipo}</td>
          <td class="border px-2 py-1">${equipo.victorias}</td>
          <td class="border px-2 py-1">${equipo.derrotas}</td>
          <td class="border px-2 py-1">${equipo.puntos}</td>
        </tr>`;
        tabla.innerHTML += fila;
      });

      // Torneo final
      const torneo = document.getElementById('torneo');
      data.torneo.forEach((duelo, i) => {
        torneo.innerHTML += `<div class="bg-white border p-4 rounded shadow">
          <h3 class="font-semibold mb-2">Ronda ${Math.floor(i / 4) + 1}</h3>
          <p>${duelo.equipo1} vs ${duelo.equipo2}</p>
          <p class="text-sm text-gray-500">Resultado: ${duelo.resultado || '-'}</p>
        </div>`;
      });

      // Jornadas
      const jornadasDiv = document.getElementById('lista-jornadas');
      data.jornadas.forEach((jornada, i) => {
        let html = `<div class="bg-white border rounded p-4 shadow">
          <h4 class="font-bold mb-2">Jornada ${i + 1}</h4>
          <ul class="space-y-1">`;
        jornada.partidos.forEach(p => {
          html += `<li>${p.equipo1} vs ${p.equipo2} - Resultado: ${p.resultado || '-'}</li>`;
        });
        html += `</ul></div>`;
        jornadasDiv.innerHTML += html;
      });
    }

    cargarDatos();
  </script>
</body>
</html>
